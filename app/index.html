<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Polymer Codelab Messina</title>

    <link rel="stylesheet" href="styles/main.css">
    <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="elements/elements.html">
  </head>

  <body unresolved>
    <template is="dom-bind" id="app">
      <iron-ajax url="api/users.json" last-response="{{data}}" auto></iron-ajax>

      <app-header shadow>
        <app-toolbar>
          <a href="/">
            <h3>Best app ever</h3>
          </a>
        </app-toolbar>
      </app-header>
      <iron-pages attr-for-selected="data-route" selected="[[route]]">

        <section data-route="home">
          <paper-material>
            <table class="users">
              <tr>
                <th>Name</th>
                <th>Surname</th>
                <th>Company</th>
              </tr>
              <template is="dom-repeat" items="[[data]]" as="u">
                <tr id="[[u.id]]" on-tap="viewDetail">
                  <td>[[u.name]]</td>
                  <td>[[u.surname]]</td>
                  <td>[[u.company]]</td>
                </tr>
              </template>
            </table>
          </paper-material>
        </section>

        <section data-route="user">
          <user-detail users="[[data]]" user-id="[[params.id]]"></user-detail>
        </section>
      </iron-pages>
    </template>

    <script src="scripts/app.js"></script>
</body>
</html>
